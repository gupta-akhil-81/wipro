runtime: nodejs10
env: standard
instance_class: B2
manual_scaling:
  instances: 1

service: customer-update-service
handlers:
  - url: /
    script: auto
    secure: always
  - url: /_ah/push-handlers/.*
    script: auto
    secure: always

env_variables:
  PORT: 8080
  NODE_ENV: test
  GOOGLE_CLOUD_PROJECT: xyz-icf-integration-test
  partialUpdate_url: https://api.xyz.ppe.xyzdt.com/customer/icm/profile/partialUpdate/
  icm_onprem_client_id: 222a9e69-ff67-423f-833b-3c77c480a017
  icm_onprem_apigw_key: eC1jaWZhdXRoLWtlkTpnIEOiNTd2NW1xJHQ=
  icm_onprem_client_secret_SECURE: CiQACY2PmaF4lEzy0t96lfbh1QPoE3nOjc3TqzD9GGvBzbD7CaISWwBzgimxq/nF98PymnHKevX3DEtY3RC3qUAkbVPo311319sHXjWn1EvtAB/cqf8TGNiNmT1Nk8QY52kBwcPsTd33vMiYS2ks0wmxBgzzzPqj0rxubdEAppuxBY0=
  icm_onprem_service_account_password_SECURE: CiQACY2PmTdG1IGKUwNB4m9dByQ9L1zFozhWWgEQt16hOdWe4NcSMQBzgimxsVgEy5kKVgFKZFXmzz5iXXTwj6vNNA0SJhIF0Do66juJfj1LTJn9O0EPkb8=
  icm_onprem_service_account_name: s-custint-a-ppseelm
  call_customer_api: true
  bypass_datetime_check: false
  use_cloud_tasks: true
  KEY_RING_ID: icf-ci-kms-ring
  KEY_ID: icf-ci-kms-key
  PUBSUB_SUBSCRIPTION_NAME: customer-updates-pubsub-test-sub
  PUBSUB_VERIFICATION_TOKEN: 7ecf150f-0af0-4be7-8c35-a5816d122c17
  PUBSUB_VERIFICATION_ACCOUNT: icf-test-customer-updates-svc@xyz-icf-integration-test.iam.gserviceaccount.com
  CLOUD_TASK_QUEUE_NAME: customer-updates-queue
  CLOUD_TASK_LOCATION: europe-west1
  CUST_INTERACTION_PROJECT_ID: xyz-icfinteractions-dev
  CUST_INTERACTION_EMAIL: localtest@xyz-icfinteractions-dev.iam.gserviceaccount.com
  CUST_INTERACTION_TOPIC: Customerinteractions
  CUST_INTERACTION_PRIVATE_KEY_SECURE: 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
  TEST_KMS_VALUE_SECURE: CiQACY2PmX+D6jzBVctsLonuwOs+EDnZgnLFWTbuKcEc4EDTW5QSLQBzgimxG+epoTGpbNR62Ys6M5Z+hl6NhTIULV/hm4NfMK15VPvl0p9STkUyKA==
  ICM_API_BASE_URL: https://api.xyz.ppe.xyzdt.com/customer/icm/
  CALL_ICM_CUSTOMER_API: true
  USE_API_CUSTOMER_CLOUD_TASKS: true
  LOG_LEVEL: info
  LOG_ENVIRONMENT: cloud