runtime: nodejs10
env: standard
instance_class: B2
manual_scaling:
  instances: 1

service: customer-update-service
handlers:
  - url: /
    script: auto
    secure: always
  - url: /_ah/push-handlers/.*
    script: auto
    secure: always
    
env_variables:
  PORT: 8080
  NODE_ENV: test
  partialUpdate_url: https://api.xyz.ppe.xyzdt.com/customer/icm/profile/partialUpdate/
  icm_onprem_client_id_SECURE: CiQAauALNcP48Eq24qjcnhB75AZ7zR/ttPjBaqyuUWh1bBSZbeASTQDJmxmEFhONtGWXF+Q+6ctET3wd1jEIbwaxtpMlvvJQa069DgpSewMgvspGMA/o9M7UrlRQxUbwHFXkdFGh2ryLSKAyufXm903Ok9W2
  icm_onprem_apigw_key_SECURE: CiQAauALNSUx7K35Y9eXnVwj9YiXRiR7YbwUvdatSNUB6dI5v50STQDJmxmE4IKmi7DanQE0waBACOJasxHdUzQooiBnJXfUqFsz4FQ9DytKEbSwfKlX5Vk71kRn6NJoZLOedBH1pC5vYv/PcvLxZJIZa8P6
  icm_onprem_service_account_name: s-custint-a-ppseelm
  icm_onprem_client_secret_SECURE: CiQAauALNYUYNkql7lkNOP3isXEzW1nbRQrQOk+MyacoRzsz0zUSWwDJmxmEbEoJQ4CSRXuj0uWWs8l4U6wBwiQf0Pmky2PxcfRWL6sRfubVvjXI0OULQbxRt9YuNDJ9xk6rjF5A0AsnJ+SFnFa+TLXaVZP+SgnXO6C1v7kChF1cymg=
  icm_onprem_service_account_password_SECURE: CiQAauALNUKaxD2jsYJ/lo5s9EPDQlwdwGUxs2xQibUXnFFdmAkSMQDJmxmEF7jCGHVmH3iaPdl8GJZ7BHRoNZgoF6+0ZsiUO18KJXv3TqASEFP4EV+Cdx0=
  call_customer_api: true
  bypass_datetime_check: false
  use_cloud_tasks: true
  KEY_RING_ID: icf-ci-kms-ring
  KEY_ID: icf-ci-kms-key
  PUBSUB_SUBSCRIPTION_NAME: customer-udpates-topic-subscription
  PUBSUB_VERIFICATION_TOKEN: 7ecf150f-0af0-4be7-8c35-a5816d122c17
  PUBSUB_VERIFICATION_ACCOUNT: customer-updates-svc@xyz-customerintegrations-test.iam.gserviceaccount.com
  CLOUD_TASK_QUEUE_NAME: customer-updates-queue
  CLOUD_TASK_LOCATION: europe-west1
  TOKEN_URL: https://xyz-google-app-test.eu.auth0.com/oauth/token
  FIND_URL: https://xyz-icm-dev.appspot.com/customer/icm/find
  FIND_GRANT_TYPE: client_credentials
  FIND_CLIENTID_SECURE: CiQAauALNS5Ku9mJJqWIN8a+hRNgkAaVa8sIuwR4Q/DxlWuOXuoSRwDJmxmEy0dTmQwX6VUSVLwV9+saY+dJvhBVnWUUxdSPplNqAtqedCFR+KuNtNJPiCjqYY2h4/yjVLAVAvtSuAnGsKFqfW5j
  FIND_CLIENTSECRET_SECURE: CiQAauALNXSZ9vWrKOrqfH4EvPrSeDguSYZ0O3MNZcojcEA0kJ8SaQDJmxmElX9O4+tRxt1lqsjSzyGjaTj6PwunVOAub/huuiGW+e0FSERoichVySRA/C1XEn9hPej8zCaBwblybRg6A38qqmcVPs24uSmi0x/1HvEPS/9Ux6u1ccAbZMvV6cyK8xVJOPXYEA== 
  FIND_AUDIENCE: https://xyz-goolge-dev.xyz.com
  CUST_INTERACTION_PROJECT_ID: xyz-icfinteractions-dev
  CUST_INTERACTION_EMAIL: localtest@xyz-icfinteractions-dev.iam.gserviceaccount.com
  CUST_INTERACTION_TOPIC: Customerinteractions
  CUST_INTERACTION_PRIVATE_KEY_SECURE: CiQAauALNaDvB+JCVCiKIDK0vF8wAxcepuVqQ5oFkaLIGMzmwfkS7g0AyZsZhKu6Chyj8doBcmVuR5vis4V7W23ziX1DkCfAu1Q7GQVvPZG60T98P1oLrVY8pTALSo26+vw1kUUMjH0CzWPckoM0UurThT/aqPdPSzMrZ2OLWscg7hEvu7grVdZYCxnhGmflRmOqcwAWk0rWV1TSo2vbmJ0J5uXdXU6X1Ud4EFYiEDjG4zQFjC3G/Vi5zFlJEccKab4x8lR8qZwQcx8lNqB7ylvrTrBPJVoWKQ9lPwRQG6NvnzKtayYLMOoXjTPkPB3LmXDDWNVp2LFF7amJLLqyaRF1pPLWXur5pMlT3MFXmxQ5AtYGvsfgm1G2/2BhOXxLtvmpQrgZuK6MngmM92GOnH1+fEt7Havh8WpZdA/BN6hIyi+wMppgGDqL7orw9Ez2vObg8XQtdoob/UPbIKGGNFp7iWTFOyMYNTnkaOER9vizQvqpaWYOMBKDvYAju1yiZKNC/HOjZhiyr9JLWDryAECFnbomfaipe/rKS7udXOWUHR4Rdnl9EC15g/H08IISLRFC+cJRydVUlxMKY7ejQvD/STEQVMhhrvgooOnD25NzxYIED1yuBHtLOXY6AO5QzqzGOZEsE9rrn5CkDjg06yneBQOvTZYX26EEQdcmoEYiqTSC+i1RTLD7epAPVLACugY+47Wsm4Wl8U+nXUIXcC0iYO8VW9IBwAmc9/rE4Kj3BASKRkP67RlRpPQ8Eanu1UKoMazjxbGMRqMc2CJNb4snuI8d6Ug8sXkRZS5Vm5Y5m5zBJqQrUQvGc24TKvBRTNgPzp5qg9f3/vh3OgriELJTe3QGe8YHgHOyY6yv2NgpdoN+FMG8no4UDGO80IeNp03Xj1G/vDOLyGsD0Kq4HYupVcmnF3IUcaYt7LMs8GxsoYp2wcJ6jcgtWIaxnwOcxKYB2DwEIlj6JAyD+Eycuj5N2SVIwT/5XMxVS42rLjeckNVx61jKCXfp/USgE2/rPOPq0Q8CdSCqK0xOInKkFkbW4IO/S/0FO88UatUuGtA7jWpasyZG1LxDXd8YfCUc6f1Ui2K0FLkF6NYGOHjw06T133DBGGkUjNRzFWKw2FofodLxr5G8U6PMecWzrKt4U6ZF8ykwfPoiD7BESqBdhuaZeSYNHUhbzUwx6vjWhaZXWin5glNWxlPNpDSYBh2ZESn0VHlGiE0gIV6vmrCCKj4mPbl7Aoj5nx5lhYqdoWf3Y+sKlfBGGuj7vP52EBbod2BrJTfby/T8zlAwUKFx6Vqu5xOp3f7s71leUCpo/nqkHAzX+coqc5g8YtdkbpjAqnaOSJD33A0gKE5z91rn1pQ5xYdK3b6cxnNZ0UfMK2M03bgtbf2iFIgS4QcMGnzcwk0gSYiVaix5VgVy1M0xY4WC9yApryzAGne+btpytTCBegIozHUSrgCVK+8/z4hIOEkG1Nu24mGRqe+kBuMwNc+iVqC9L7aPhulwzBZYmW0AaaZeyWT/npOzEAJ67FeL7zPT3+HtkggJ6T++KPSa6X+3gFdNVLXDglGQ9nPu7ZU4SAbZurC97LXFi28i9ad1vVcpHRltrgogY5y5wEl4FkHJmd/vQgmxGiIz/ogyYrVkiPCimtu4YeWspNHW8Gp4tqozEM/RJRvnm8cVno8K/Pe6I2pkJQLA5KpuzfIg+J+tS/2vszRwwFJsXkZqjimUeISHRNTeNkolrqfZBADYgehxTkm3IDGPN9FEJyQqdk9Cpywvxsu2UyM9SF1HjK3iF4C+BoQjnqQFs1dzAT4/Gcao0HOuv9uQ7nuJytDaruYNVozlY3t7HO7qxzN7J7AcDbn93Zs3yKZLlh2bmvb0593otmWylPC1WSxi2xywV3FAx5HHBOutVEQt/tY7nMXPqNGaYh6k1W3FOla1WnOoZhlvJ2iPYCiaNBFY7dKNA00z0HzSGenJH2RdjtsMwhAKMGQRpgj9irBvXKZeuPSLCdONbABAX/gxZUrWo12qRuQ0IOeBvQEqIr4bEBkkg5UmgXCVlM8NvJXneFK6p75985BgtuBYBIN65oaN7MnG6ygknwGMsL9vG76fu7DGcr+wxEXbSihruNULRTWMW0uGMpjWfD6NO7WRWU8E5rXlGFLE7ZAQFUilQL93gJrhx3ylHJVWTNvP23JkthPGxnaCQoK2s6/Z1ctipfKmcUdSl1jO5aNNvh5uhfj35+a2V7tgk55U5SDV8Vx3jhJOT1/rhpilAx5WbppqxtukPbyO4Tn9XW18h51LmmhhykRwc7/AynCG5nyfSo1woGcIqkqpMVxd4O3BZPm84jgffYetxfWmIPbuyQ5vjLdAt6JxNph0mdUAQswzX6ltT34YpqMFrsKT6AsOCW+Hd/IxmoE7JslfvTK14tcg
  TEST_KMS_VALUE_SECURE: CiQAauALNdvqWXh/gUwTwphOXwGqhvd2ChCpcZsmaJq3dylRYVUSLQDJmxmETv7AIUHFKVcSmayP8fJXyJrIFhQf+mahJfsrn/7iCwodis/1NtEezQ==
  ICM_API_BASE_URL: https://api.xyz.ppe.xyzdt.com/customer/icm/
  CALL_ICM_CUSTOMER_API: true
  USE_API_CUSTOMER_CLOUD_TASKS: false
  PUBSUB_TOPIC_NAME: customer-udpates-topic